<span class="section" [ngClass]="{'center':data.text[data.text.length - 1].type === 'quote'}">
  @for (text of data.text; track text; let i = $index; let isFirst = $first; let isLast = $last) {
    @if (changeLine && isFirst) {
      <span><p></span>
    }
    @if (text.type === 'text' || text.type === 'section') {
      <span class="section highlightable">{{text.text}}</span>
    }
    @if(text.type === "references"){
      <span class="references">
        <span>{{ " " }}</span>
        @for(part of parseReferences(text.text).parts; track $index){
          @if (typeof part === 'object') {
            <a
              class="highlightable"
              (click)="showReturnSnackbar()"
              [routerLink]="['/', (part.book | lowercase ), part.chapter]"
              [queryParams]="getVerseQueryParams(part.verses, part.crossChapter)"
              >{{part.match}}</a
              >
            } @else {
              <span class="highlightable">{{part}}</span>
            }
          }
        </span>
      }
      @if (data.verseLabel === 'front' && isLast && data.text[data.text.length -1].type !== 'quote') {
        <span class="section highlightable"
          > —
        </span>
      }
      @if (data.verseLabel !== 'front' && isLast && text.type !== 'quote') {
        <span class="section highlightable"> — </span>
      }
    }
  </span>
